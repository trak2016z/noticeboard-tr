@model Repo.Models.Advertisement

@using Microsoft.AspNet.Identity;
@{
    ViewBag.Title = "Details";

    //string imageBase64 = Convert.ToBase64String(Model.AdvertisementImage);
    //string imageSrc = string.Format("data:image/gif;base64,{0}", imageBase64);

}

<h2>Szczegóły ogłoszenia</h2>

<div>
    <h4></h4>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            Zdjęcie:
        </dt>
        <dd>
            @{
                
            }

            @foreach (var item in Model.AdvertisementImage)
            {
                @*<img src="@item" width="100" height="100" />*@

                @*string imageBase64 = Convert.ToBase64String(ViewBag.Image);
                string imageSrc = string.Format("data:image/gif;base64,{0}", imageBase64);
                <img src="@imageSrc" width="100" height="100" />*@
            }
            <img src="@ViewBag.Image" width="300" height="300"/>
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.User.Email)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.User.Email)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Description)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Description)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Title)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Title)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Date)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Date)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Price)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Price)
        </dd>

    </dl>
</div>
<p>
    @Html.ActionLink("Powrót", "Index", null, new { @class = "btn btn-warning" })

    @if(User.Identity.IsAuthenticated && (User.IsInRole("Admin") || User.IsInRole("Moderator") || Model.UserId == User.Identity.GetUserId()))
    {
        @Html.ActionLink("Edytuj", "Edit", new { id = Model.Id }, new { @class = "btn btn-primary" })
        @:       
        @Html.ActionLink("Usuń", "Delete", new { id = Model.Id }, new { @class = "btn btn-danger" })
    }
</p>
